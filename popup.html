<!DOCTYPE html>
<html>
  <head>
    <title>GitHub Code Counter</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="header">
      <h2>GitHub Code Counter</h2>
    </div>

    <div class="repo-info">
      <div id="currentRepo">No GitHub repository detected</div>
    </div>

    <div class="settings-section">
      <h3>GitHub Authentication</h3>
      <p class="info-text">
        Authenticate to increase API rate limits (recommended)
      </p>

      <div class="token-input">
        <input
          type="password"
          id="githubToken"
          placeholder="GitHub Personal Access Token"
        />
        <button id="saveToken">Save Token</button>
      </div>

      <p class="helper-text">
        <a href="#" id="tokenHelpLink">How to create a GitHub token?</a>
      </p>

      <div class="token-help">
        <p class="info-text">
          For private repositories, create a token with the
          <code>repo</code> scope.
        </p>
        <p class="info-text">
          For public repositories only, the <code>public_repo</code> scope is
          sufficient.
        </p>
      </div>

      <div id="auth-status" class="auth-status">
        <span class="status-circle unauthenticated"></span>
        <span id="auth-text">Not authenticated</span>
      </div>
    </div>
    <div class="API-section">
      <p class="api-text">
        API hits remaining: <span id="api-remaining">0</span>
      </p>
      <p class="api-text">
        API Rate limit reset time: <span id="api-resetTime">0</span>
      </p>
    </div>

    <div id="exclusions-section">
      <h3>File Exclusions</h3>
      <p>Exclude files from the analysis (optional)</p>
      <div class="exclusion-input">
        <input
          type="text"
          id="exclusionInput"
          placeholder="e.g. 'md', 'txt', 'js'"
        />
        <button id="addExclusion">Add Exclusion</button>
      </div>
      <ul id="exclusionsList"></ul>
    </div>

    <div class="button-div">
      <button id="countLoc" disabled>Count Lines of Code</button>
    </div>

    <div id="loading" class="loading">
      <p>Analyzing repository... <span id="progress-text">0%</span></p>
      <div class="progress">
        <div id="progress-bar" class="progress-bar"></div>
      </div>
    </div>

    <div id="error" class="error"></div>

    <div id="results" class="results">
      <h3>Repository Statistics</h3>
      <div class="stat" id="totalLinesDiv">
        <span>Total Lines of Code:</span>
        <span id="totalLines">0</span>
      </div>
      <div class="stat">
        <span>Total Files:</span>
        <span id="totalFiles">0</span>
      </div>
      <div class="stat">
        <span>Total files skipped:</span>
        <span id="totalSkippedFiles">0</span>
      </div>
      <div class="stat">
        <span>Skipped Files:</span>
        <ul id="skippedFiles">
          <li>None</li>
        </ul>
      </div>

      <h3>By Extension</h3>
      <div id="extensions" class="extensions"></div>
    </div>

    <a href="privacy-policy.html" target="_blank" class="privacy-link"
      >Privacy Policy</a
    >

    <script type="module" src="script.js"></script>
  </body>
</html>
